(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{5360:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/images",function(){return a(5905)}])},7390:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var r=a(5893),n=a(7294),s=e=>{let{nickname:t}=e;return(0,r.jsx)("header",{children:t?(0,r.jsxs)("p",{children:["Welcome, ",t,"!"]}):(0,r.jsx)("p",{children:"Not logged in"})})},i=a(9828),c=a(2316);let o=async()=>{try{return(await (0,i.PL)((0,i.hJ)(c.db,"images"))).docs.map(e=>({url:e.data().url,description:e.data().description}))}catch(e){throw console.error("Error fetching images: ",e.message),e}};var u=a(1163),l=()=>{let[e,t]=(0,n.useState)(null),a=(0,u.useRouter)();return(0,n.useEffect)(()=>{let e=c.I.onAuthStateChanged(e=>{e?t(e.displayName):a.push("/login")});return()=>e()},[a]),e},d=a(9482),m=a(5675),g=a.n(m),p=a(4439),f=a.n(p),h=a(8767);let _=async()=>await o();var y=e=>{let{imgContent:t}=e,{data:a}=(0,h.useQuery)("images",_);return(0,r.jsx)("div",{className:f().imageGrid,children:t.map((e,t)=>(0,r.jsxs)("div",{className:f().imgWrapper,children:[(0,r.jsx)(g(),{width:500,height:350,src:e.url,alt:"Image ".concat(t+1),className:f().img,priority:!0}),(0,r.jsx)("div",{className:f().overlay,children:e.description})]},t))})},j=()=>{let[e,t]=(0,n.useState)([]),[a,i]=(0,n.useState)(!0),c=l();return((0,u.useRouter)(),(0,n.useEffect)(()=>{let e=async()=>{try{let e=await o();t(e)}catch(e){e instanceof Error&&console.error("Error fetching images: ",e.message)}finally{i(!1)}};c&&e()},[c]),c)?(0,r.jsxs)("div",{children:[(0,r.jsx)(s,{nickname:c}),(0,r.jsxs)("main",{children:[(0,r.jsx)("h1",{children:"Choose an Image"}),(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)(d.Z,{}),children:(0,r.jsx)(y,{imgContent:e})})]})]}):null}},5905:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return r.default}});var r=a(7390)},2316:function(e,t,a){"use strict";a.d(t,{I:function(){return o},db:function(){return u}});var r=a(3977),n=a(9828),s=a(2370),i=a(6650);let c=(0,r.ZF)({apiKey:"AIzaSyATUXcfqBg3IZYQc9Q0hINGt6oVjNLoZB8",authDomain:"my-mood-playlist.firebaseapp.com",projectId:"my-mood-playlist",storageBucket:"my-mood-playlist.appspot.com",messagingSenderId:"665017246127",appId:"1:665017246127:web:4906d5430fcc98efe74f5a",measurementId:"G-D0L4JFMQSC"}),o=(0,s.v0)(c),u=(0,n.ad)(c);(0,i.cF)(c)},4439:function(e){e.exports={imageGrid:"ImageContent_imageGrid__q_nZj",imgWrapper:"ImageContent_imgWrapper__d2GwA",img:"ImageContent_img__uyF65",overlay:"ImageContent_overlay__a7UQ3"}}},function(e){e.O(0,[16,48,915,675,888,774,179],function(){return e(e.s=5360)}),_N_E=e.O()}]);