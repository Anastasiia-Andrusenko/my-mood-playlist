(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[138,521],{1475:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Login/Login",function(){return n(1378)}])},1378:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return v}});var t=n(5893),a=n(1664),i=n.n(a),l=n(2018),o=n(8191),c=n.n(o),r=n(7294),u=n(1752),g=n.n(u),h=n(1163),f=n(9482),_=n(4173),d=n(9511),m=n(4259),x=n(335),j=()=>{let[e,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=l.I.onAuthStateChanged(e=>{s(!!e)});return()=>e()},[]),e},p=n(2247),y=n(6369),k=n(4130);let{publicRuntimeConfig:w}=g()();w.basePath;var v=(0,d.Z)(()=>{let[e,s]=(0,r.useState)(""),[n,a]=(0,r.useState)(!1);j();let o=(0,h.useRouter)();(0,r.useEffect)(()=>{let e=l.I.onAuthStateChanged(e=>{e&&o.push("/")});return()=>e()},[o]);let u=async()=>{a(!0);try{let e=await (0,p.Cb)();console.log(e.user),o.push("/images")}catch(e){s(e.message)}finally{a(!1)}},g=async()=>{a(!0);try{let e=await (0,p.eu)();console.log(e.user),o.push("/images")}catch(e){s(e.message)}finally{a(!1)}},d=async(e,n)=>{a(!0);try{await (0,p.jc)(e,n),_.Am.success("User logged in successfully"),o.push("/images")}catch(e){s(e.message),_.Am.error("Login failed: ".concat(e.message))}finally{a(!1)}};return(0,t.jsxs)("div",{children:[(0,t.jsx)(y.default,{nickname:"",page:""}),(0,t.jsxs)("div",{className:c().container,children:[n&&(0,t.jsx)(f.Z,{}),(0,t.jsx)("h2",{className:c().please,children:"Please log in to access all features"}),(0,t.jsx)("div",{className:c().overlay}),(0,t.jsxs)("div",{className:c().form,children:[(0,t.jsx)(x.Z,{title:"",buttonText:"Login",onSubmit:d,showNickname:!1}),(0,t.jsxs)("div",{children:[(0,t.jsx)(m.Z,{onClick:u,text:"Log in with Google"}),(0,t.jsx)(m.Z,{onClick:g,text:"Log in with Facebook"})]}),(0,t.jsxs)("p",{children:["Don't have an account? ",(0,t.jsx)(i(),{href:"/register",className:c().link,passHref:!0,children:"Register"})]})]})]}),(0,t.jsx)(k.default,{})]})})},8191:function(e){e.exports={container:"Login_container__3UUjC",overlay:"Login_overlay__RrO7Y",form:"Login_form__oz_Ou",link:"Login_link__nSaft",please:"Login_please__jx6ma"}}},function(e){e.O(0,[391,123,838,365,664,660,888,774,179],function(){return e(e.s=1475)}),_N_E=e.O()}]);