(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{1752:function(e,t,n){e.exports=n(1224)},3236:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(640)}])},4259:function(e,t,n){"use strict";var s=n(5893);n(7294);var r=n(2175),a=n.n(r);t.Z=e=>{let{onClick:t,text:n}=e;return(0,s.jsx)("button",{onClick:t,className:a().button,children:n})}},335:function(e,t,n){"use strict";var s=n(5893),r=n(7294),a=n(9441),l=n.n(a),o=n(2175),i=n.n(o);t.Z=e=>{let{title:t,buttonText:n,onSubmit:a,showNickname:o=!1}=e,[c,u]=(0,r.useState)(""),[h,m]=(0,r.useState)(""),[d,f]=(0,r.useState)("");return(0,s.jsxs)("div",{className:l().container,children:[(0,s.jsx)("h1",{children:t}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(c,h,d)},className:l().form,children:[(0,s.jsxs)("div",{className:l().inputGroup,children:[(0,s.jsx)("label",{htmlFor:"email",className:l().label,children:"Email:"}),(0,s.jsx)("input",{type:"email",placeholder:"Email",id:"email",value:c,onChange:e=>u(e.target.value),required:!0,className:l().input})]}),(0,s.jsxs)("div",{className:l().inputGroup,children:[(0,s.jsx)("label",{htmlFor:"password",className:l().label,children:"Password:"}),(0,s.jsx)("input",{type:"password",placeholder:"Password",id:"password",value:h,onChange:e=>m(e.target.value),required:!0,className:l().input})]}),o&&(0,s.jsxs)("div",{className:l().inputGroup,children:[(0,s.jsx)("label",{htmlFor:"nickname",className:l().label,children:"Nickname:"}),(0,s.jsx)("input",{type:"text",placeholder:"Nickname",id:"nickname",value:d,onChange:e=>f(e.target.value),required:!0,className:l().input})]}),(0,s.jsx)("button",{type:"submit",className:i().button,children:n})]})]})}},9511:function(e,t,n){"use strict";var s=n(5893),r=n(7294),a=n(1163),l=n(2018);t.Z=e=>t=>{let n=(0,a.useRouter)();return(0,r.useEffect)(()=>{let e=l.I.onAuthStateChanged(e=>{e&&n.push("/")});return()=>e()},[n]),(0,s.jsx)(e,{...t})}},1378:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var s=n(5893),r=n(1664),a=n.n(r),l=n(2018),o=n(8191),i=n.n(o),c=n(7294),u=n(1752),h=n.n(u),m=n(1163),d=n(9482),f=n(4173),g=n(9511),p=n(4259),_=n(335),x=()=>{let[e,t]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{let e=l.I.onAuthStateChanged(e=>{t(!!e)});return()=>e()},[]),e},j=n(2247);let{publicRuntimeConfig:v}=h()();v.basePath;var w=(0,g.Z)(()=>{let[e,t]=(0,c.useState)(""),[n,r]=(0,c.useState)(!1);x();let o=(0,m.useRouter)();(0,c.useEffect)(()=>{let e=l.I.onAuthStateChanged(e=>{e&&o.push("/")});return()=>e()},[o]);let u=async()=>{r(!0);try{let e=await (0,j.Cb)();console.log(e.user),o.push("/images")}catch(e){t(e.message)}finally{r(!1)}},h=async()=>{r(!0);try{let e=await (0,j.eu)();console.log(e.user),o.push("/images")}catch(e){t(e.message)}finally{r(!1)}},g=async(e,n)=>{r(!0);try{await (0,j.jc)(e,n),f.Am.success("User logged in successfully"),o.push("/images")}catch(e){t(e.message),f.Am.error("Login failed: ".concat(e.message))}finally{r(!1)}};return(0,s.jsxs)("div",{className:i().container,children:[n&&(0,s.jsx)(d.Z,{}),(0,s.jsx)("h2",{className:i().please,children:"Please log in to access all features"}),(0,s.jsx)("div",{className:i().overlay}),(0,s.jsxs)("div",{className:i().form,children:[(0,s.jsx)(_.Z,{title:"",buttonText:"Login",onSubmit:g,showNickname:!1}),(0,s.jsxs)("div",{children:[(0,s.jsx)(p.Z,{onClick:u,text:"Log in with Google"}),(0,s.jsx)(p.Z,{onClick:h,text:"Log in with Facebook"})]}),(0,s.jsxs)("p",{children:["Don't have an account? ",(0,s.jsx)(a(),{href:"/register",className:i().link,passHref:!0,children:"Register"})]})]})]})})},640:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s.default}});var s=n(1378)},2247:function(e,t,n){"use strict";n.d(t,{Cb:function(){return l},eu:function(){return o},hY:function(){return a},jc:function(){return i}});var s=n(2018),r=n(3299);let a=async()=>{try{return await (0,r.w7)(s.I),{success:!0}}catch(e){return console.error("Error signing out: ",e),{success:!1,error:e}}},l=async()=>{let e=new r.hJ;try{return await (0,r.rh)(s.I,e)}catch(e){throw console.error("Google login error:",e.message),e}},o=async()=>{let e=new r._O;try{return await (0,r.rh)(s.I,e)}catch(e){throw console.error("Facebook login error:",e.message),e}},i=async(e,t)=>{try{await (0,r.e5)(s.I,e,t)}catch(e){throw console.error("Email login error:",e.message),e}}},9441:function(e){e.exports={form:"AuthForm_form__vlyAP",label:"AuthForm_label__601oW",input:"AuthForm_input__IJd0x"}},2175:function(e){e.exports={button:"Button_button__rH6MK"}},8191:function(e){e.exports={container:"Login_container__3UUjC",overlay:"Login_overlay__RrO7Y",form:"Login_form__oz_Ou",link:"Login_link__nSaft",please:"Login_please__jx6ma"}}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);