(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{1752:function(e,t,s){e.exports=s(1224)},436:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return s(9601)}])},4259:function(e,t,s){"use strict";var a=s(5893);s(7294);var r=s(2175),n=s.n(r);t.Z=e=>{let{onClick:t,text:s}=e;return(0,a.jsx)("button",{onClick:t,className:n().button,children:s})}},335:function(e,t,s){"use strict";var a=s(5893),r=s(7294),n=s(9441),l=s.n(n),o=s(2175),i=s.n(o);t.Z=e=>{let{title:t,buttonText:s,onSubmit:n,showNickname:o=!1}=e,[c,u]=(0,r.useState)(""),[d,m]=(0,r.useState)(""),[h,p]=(0,r.useState)("");return(0,a.jsxs)("div",{className:l().container,children:[(0,a.jsx)("h1",{children:t}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(c,d,h)},className:l().form,children:[(0,a.jsxs)("div",{className:l().inputGroup,children:[(0,a.jsx)("label",{htmlFor:"email",className:l().label,children:"Email:"}),(0,a.jsx)("input",{type:"email",placeholder:"Email",id:"email",value:c,onChange:e=>u(e.target.value),required:!0,className:l().input})]}),(0,a.jsxs)("div",{className:l().inputGroup,children:[(0,a.jsx)("label",{htmlFor:"password",className:l().label,children:"Password:"}),(0,a.jsx)("input",{type:"password",placeholder:"Password",id:"password",value:d,onChange:e=>m(e.target.value),required:!0,className:l().input})]}),o&&(0,a.jsxs)("div",{className:l().inputGroup,children:[(0,a.jsx)("label",{htmlFor:"nickname",className:l().label,children:"Nickname:"}),(0,a.jsx)("input",{type:"text",placeholder:"Nickname",id:"nickname",value:h,onChange:e=>p(e.target.value),required:!0,className:l().input})]}),(0,a.jsx)("button",{type:"submit",className:i().button,children:s})]})]})}},9511:function(e,t,s){"use strict";var a=s(5893),r=s(7294),n=s(1163),l=s(2316);t.Z=e=>t=>{let s=(0,n.useRouter)();return(0,r.useEffect)(()=>{let e=l.I.onAuthStateChanged(e=>{e&&s.push("/")});return()=>e()},[s]),(0,a.jsx)(e,{...t})}},7541:function(e,t,s){"use strict";s.r(t);var a=s(5893),r=s(7294),n=s(2370),l=s(2316),o=s(6545),i=s.n(o),c=s(1752),u=s.n(c),d=s(1163),m=s(9482),h=s(4173),p=s(9511),f=s(335),g=s(4259),_=s(1664),x=s.n(_);let{publicRuntimeConfig:N}=u()();N.basePath,t.default=(0,p.Z)(()=>{let[e,t]=(0,r.useState)(""),[s,o]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),p=(0,d.useRouter)();(0,r.useEffect)(()=>{let e=l.I.onAuthStateChanged(e=>{e&&p.push("/")});return()=>e()},[p]);let _=async()=>{let e=new n.hJ;try{let t=await (0,n.rh)(l.I,e);console.log(t.user)}catch(e){console.error("Google login error:",e.message),t(e.message)}},N=async()=>{let e=new n._O;try{let t=await (0,n.rh)(l.I,e);console.log(t.user)}catch(e){console.error("Facebook login error:",e.message),t(e.message)}},b=async(e,s,a)=>{o(!0);try{let t=(await (0,n.Xb)(l.I,e,s)).user;console.log("User before updateProfile:",t),t&&(await (0,n.ck)(t,{displayName:a}),console.log("Profile updated:",t.displayName)),h.Am.success("User registered successfully"),p.push("/images")}catch(e){t(e.message),h.Am.error("Registration failed: ".concat(e.message))}finally{o(!1)}};return(0,a.jsxs)("div",{className:i().container,children:[(0,a.jsx)("div",{className:i().overlay}),(0,a.jsx)("h2",{className:i().please,children:"Please register to access all features"}),(0,a.jsxs)("div",{className:i().form,children:[s&&(0,a.jsx)(m.Z,{}),(0,a.jsx)(f.Z,{title:"",buttonText:"Register",onSubmit:b,showNickname:!0}),(0,a.jsxs)("p",{children:["Already have an account? Then ",(0,a.jsx)(x(),{href:"/login",className:i().link,passHref:!0,children:"Log in"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(g.Z,{onClick:_,text:"Log in with Google"}),(0,a.jsx)(g.Z,{onClick:N,text:"Log in with Facebook"})]})]})]})})},9601:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a.default}});var a=s(7541)},2316:function(e,t,s){"use strict";s.d(t,{I:function(){return i},db:function(){return c}});var a=s(3977),r=s(9828),n=s(2370),l=s(6650);let o=(0,a.ZF)({apiKey:"AIzaSyATUXcfqBg3IZYQc9Q0hINGt6oVjNLoZB8",authDomain:"my-mood-playlist.firebaseapp.com",projectId:"my-mood-playlist",storageBucket:"my-mood-playlist.appspot.com",messagingSenderId:"665017246127",appId:"1:665017246127:web:4906d5430fcc98efe74f5a",measurementId:"G-D0L4JFMQSC"}),i=(0,n.v0)(o),c=(0,r.ad)(o);(0,l.cF)(o)},9441:function(e){e.exports={form:"AuthForm_form__vlyAP",label:"AuthForm_label__601oW",input:"AuthForm_input__IJd0x"}},2175:function(e){e.exports={button:"Button_button__rH6MK"}},6545:function(e){e.exports={container:"Register_container__mrUdE",overlay:"Register_overlay__gXEF3",form:"Register_form__0P4Vf",link:"Register_link__AE70Z",please:"Register_please__1etrP"}}},function(e){e.O(0,[16,48,750,888,774,179],function(){return e(e.s=436)}),_N_E=e.O()}]);