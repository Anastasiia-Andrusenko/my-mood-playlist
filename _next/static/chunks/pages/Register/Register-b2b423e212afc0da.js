(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36,521],{2588:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Register/Register",function(){return t(7541)}])},7541:function(e,s,t){"use strict";t.r(s);var a=t(5893),r=t(7294),n=t(3299),l=t(2018),o=t(6545),i=t.n(o),c=t(1752),u=t.n(c),g=t(1163),h=t(9482),f=t(4173),_=t(9511),d=t(335),m=t(4259),x=t(1664),p=t.n(x),y=t(6369),w=t(4130);let{publicRuntimeConfig:j}=u()();j.basePath,s.default=(0,_.Z)(()=>{let[e,s]=(0,r.useState)(""),[t,o]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),_=(0,g.useRouter)();(0,r.useEffect)(()=>{let e=l.I.onAuthStateChanged(e=>{e&&_.push("/")});return()=>e()},[_]);let x=async()=>{o(!0);let e=new n.hJ;try{let s=await (0,n.rh)(l.I,e);console.log(s.user)}catch(e){console.error("Google login error:",e.message),s(e.message)}finally{o(!1)}},j=async()=>{o(!0);let e=new n._O;try{let s=await (0,n.rh)(l.I,e);console.log(s.user)}catch(e){console.error("Facebook login error:",e.message),s(e.message)}finally{o(!1)}},k=async(e,t,a)=>{o(!0);try{let s=(await (0,n.Xb)(l.I,e,t)).user;console.log("User before updateProfile:",s),s&&(await (0,n.ck)(s,{displayName:a}),console.log("Profile updated:",s.displayName)),f.Am.success("User registered successfully"),_.push("/images")}catch(e){s(e.message),f.Am.error("Registration failed: ".concat(e.message))}finally{o(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.default,{nickname:"",page:""}),(0,a.jsxs)("div",{className:i().container,children:[(0,a.jsx)("div",{className:i().overlay}),(0,a.jsx)("h2",{className:i().please,children:"Please register to access all features"}),(0,a.jsxs)("div",{className:i().form,children:[t&&(0,a.jsx)(h.Z,{}),(0,a.jsx)(d.Z,{title:"",buttonText:"Register",onSubmit:k,showNickname:!0}),(0,a.jsxs)("p",{children:["Already have an account? Then ",(0,a.jsx)(p(),{href:"/login",className:i().link,passHref:!0,children:"Log in"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m.Z,{onClick:x,text:"Log in with Google"}),(0,a.jsx)(m.Z,{onClick:j,text:"Log in with Facebook"})]})]})]}),(0,a.jsx)(w.default,{})]})})},6545:function(e){e.exports={container:"Register_container__mrUdE",overlay:"Register_overlay__gXEF3",form:"Register_form__0P4Vf",link:"Register_link__AE70Z",please:"Register_please__1etrP"}}},function(e){e.O(0,[391,123,838,365,664,660,888,774,179],function(){return e(e.s=2588)}),_N_E=e.O()}]);