(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[834],{6870:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/MoodImg/MoodImg",function(){return t(3942)}])},4130:function(e,r,t){"use strict";var o=t(5893);t(7294);var n=t(356),s=t.n(n);r.Z=()=>(0,o.jsx)("footer",{className:s().footer,children:(0,o.jsxs)("div",{className:s().footerContent,children:[(0,o.jsx)("div",{className:s().footerLeft,children:(0,o.jsx)("p",{children:"\xa9 2024 YourMusicApp. All rights reserved."})}),(0,o.jsx)("div",{className:s().footerRight,children:(0,o.jsxs)("ul",{className:s().footerLinks,children:[(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:"/privacy",children:"Privacy Policy"})}),(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:"/contact",children:"Contact Us"})})]})})]})})},4242:function(e,r,t){"use strict";t.d(r,{Z:function(){return f}});var o=t(5893),n=t(7294),s=t(2149),a=t.n(s),c=t(1664),i=t.n(c),l=t(4173),u=t(2247),d=t(1163),m=t(8461),_=t.n(m),h=e=>{let{isOpen:r,onClose:t,onConfirm:n}=e;return r?(0,o.jsx)("div",{className:_().overlay,onClick:e=>{e.target===e.currentTarget&&t()},children:(0,o.jsxs)("div",{className:_().modal,children:[(0,o.jsx)("span",{onClick:t,className:_().close,children:"x"}),(0,o.jsx)("p",{children:"Are you sure?"}),(0,o.jsxs)("div",{className:_().buttons,children:[(0,o.jsx)("button",{onClick:n,className:_().button,children:"Yes"}),(0,o.jsx)("button",{onClick:t,className:_().button,children:"No"})]})]})}):null},f=e=>{let{nickname:r}=e,[t,s]=(0,n.useState)(!1),c=(0,d.useRouter)();(0,n.useEffect)(()=>{t?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[t]);let m=async()=>{try{(await (0,u.hY)()).success?(l.Am.warning("You logged out"),c.push("/")):l.Am.error("Logout failed")}catch(e){l.Am.error("An error occurred during logout")}console.log("User logged out")};return(0,o.jsx)("header",{className:a().header,children:(0,o.jsxs)("div",{className:a().container,children:[(0,o.jsx)(h,{isOpen:t,onClose:()=>{s(!1)},onConfirm:()=>{s(!1),m()}}),r?(0,o.jsxs)("div",{className:a().content,children:[(0,o.jsxs)("p",{className:a().welcome,children:["How are you, ",r," ?"]}),(0,o.jsxs)("div",{className:a().nav,children:[(0,o.jsx)(i(),{href:"/",className:a().link,passHref:!0,children:" go home"}),(0,o.jsx)("p",{onClick:()=>{s(!0)},className:a().link,children:"log out"})]})]}):(0,o.jsx)("p",{children:"Not logged in"})]})})}},6337:function(e,r,t){"use strict";var o=t(7294),n=t(1163),s=t(2316);r.Z=()=>{let[e,r]=(0,o.useState)(null),t=(0,n.useRouter)();return(0,o.useEffect)(()=>{let e=s.I.onAuthStateChanged(e=>{e?r(e.displayName):t.push("/login")});return()=>e()},[t]),e}},3942:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return I}});var o=t(5893),n=t(7294),s=t(4242),a=t(6224),c=t.n(a),i=t(9828),l=t(2316);let u=async()=>{try{return(await (0,i.PL)((0,i.hJ)(l.db,"images"))).docs.map(e=>({url:e.data().url,description:e.data().description}))}catch(e){throw console.error("Error fetching images: ",e.message),e}};var d=t(6337),m=t(1163),_=t(9482),h=t(5675),f=t.n(h),g=t(4439),p=t.n(g),x=t(8767),y=t(1664),j=t.n(y);let v=async()=>await u();var N=e=>{let{imgContent:r}=e,{data:t}=(0,x.useQuery)("images",v);return(0,o.jsx)("div",{className:p().imageGrid,children:r.map((e,r)=>(0,o.jsxs)("div",{className:p().imgWrapper,children:[(0,o.jsx)(f(),{width:500,height:350,src:e.url,alt:"Image ".concat(r+1),className:p().img,priority:!0}),(0,o.jsx)("div",{className:p().overlay,children:(0,o.jsx)(j(),{href:"/playlist",className:p().link,passHref:!0,children:(0,o.jsxs)("p",{className:p().description,children:[" ",e.description]})})})]},r))})},w=t(4130),I=()=>{let[e,r]=(0,n.useState)([]),[t,a]=(0,n.useState)(!0),i=(0,d.Z)();return((0,m.useRouter)(),(0,n.useEffect)(()=>{let e=async()=>{try{let e=await u();r(e)}catch(e){e instanceof Error&&console.error("Error fetching images: ",e.message)}finally{a(!1)}};i&&e()},[i]),i)?(0,o.jsxs)("div",{children:[(0,o.jsx)(s.Z,{nickname:i}),(0,o.jsxs)("main",{className:c().container,children:[(0,o.jsxs)("p",{className:c().text,children:["Sometimes no words can describe what you feel. Therefore, you have different atmospheric images in front of you. ",(0,o.jsx)("br",{}),"Click on the one that suits you best."]}),(0,o.jsx)("h2",{className:c().title,children:"Choose with your heart"}),(0,o.jsx)(n.Suspense,{fallback:(0,o.jsx)(_.Z,{}),children:(0,o.jsx)(N,{imgContent:e})})]}),(0,o.jsx)(w.Z,{})]}):null}},2247:function(e,r,t){"use strict";t.d(r,{Cb:function(){return a},eu:function(){return c},hY:function(){return s},jc:function(){return i}});var o=t(2316),n=t(2370);let s=async()=>{try{return await (0,n.w7)(o.I),{success:!0}}catch(e){return console.error("Error signing out: ",e),{success:!1,error:e}}},a=async()=>{let e=new n.hJ;try{return await (0,n.rh)(o.I,e)}catch(e){throw console.error("Google login error:",e.message),e}},c=async()=>{let e=new n._O;try{return await (0,n.rh)(o.I,e)}catch(e){throw console.error("Facebook login error:",e.message),e}},i=async(e,r)=>{try{await (0,n.e5)(o.I,e,r)}catch(e){throw console.error("Email login error:",e.message),e}}},2316:function(e,r,t){"use strict";t.d(r,{I:function(){return i},db:function(){return l}});var o=t(3977),n=t(9828),s=t(2370),a=t(6650);let c=(0,o.ZF)({apiKey:"AIzaSyATUXcfqBg3IZYQc9Q0hINGt6oVjNLoZB8",authDomain:"my-mood-playlist.firebaseapp.com",projectId:"my-mood-playlist",storageBucket:"my-mood-playlist.appspot.com",messagingSenderId:"665017246127",appId:"1:665017246127:web:4906d5430fcc98efe74f5a",measurementId:"G-D0L4JFMQSC"}),i=(0,s.v0)(c),l=(0,n.ad)(c);(0,a.cF)(c)},356:function(e){e.exports={footer:"Footer_footer__OYoYH",footerContent:"Footer_footerContent__QQ0Yh","footer-left":"Footer_footer-left__o0loO",footerRight:"Footer_footerRight__Heu1m",footerLinks:"Footer_footerLinks__zeWoW",footerSocial:"Footer_footerSocial__qmnAy"}},2149:function(e){e.exports={header:"Header_header__MwWvM",container:"Header_container__Aasa1",content:"Header_content__ENXbo",nav:"Header_nav____I21",link:"Header_link__suN3m"}},4439:function(e){e.exports={imageGrid:"ImageContent_imageGrid__q_nZj",imgWrapper:"ImageContent_imgWrapper__d2GwA",img:"ImageContent_img__uyF65",overlay:"ImageContent_overlay__a7UQ3",description:"ImageContent_description__cMUwA"}},8461:function(e){e.exports={overlay:"Modal_overlay__nbJY5",modal:"Modal_modal__l4yBn",buttons:"Modal_buttons__0MBpx",button:"Modal_button__uXEDR",close:"Modal_close__AOA14"}},6224:function(e){e.exports={container:"Images_container__JZhTS",title:"Images_title__Db2X2",fadeIn:"Images_fadeIn__KLzdi",pulse:"Images_pulse__FwJg7",text:"Images_text__CA5A6"}}},function(e){e.O(0,[16,48,750,675,888,774,179],function(){return e(e.s=6870)}),_N_E=e.O()}]);