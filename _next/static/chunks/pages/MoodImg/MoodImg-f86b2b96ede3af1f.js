(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[834],{6870:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/MoodImg/MoodImg",function(){return a(7390)}])},7390:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var r=a(5893),n=a(7294),s=e=>{let{nickname:t}=e;return(0,r.jsx)("header",{children:t?(0,r.jsxs)("p",{children:["Welcome, ",t,"!"]}):(0,r.jsx)("p",{children:"Not logged in"})})},i=a(9828),o=a(2316);let c=async()=>{try{return(await (0,i.PL)((0,i.hJ)(o.db,"images"))).docs.map(e=>({url:e.data().url,description:e.data().description}))}catch(e){throw console.error("Error fetching images: ",e.message),e}};var l=a(1163),u=()=>{let[e,t]=(0,n.useState)(null),a=(0,l.useRouter)();return(0,n.useEffect)(()=>{let e=o.I.onAuthStateChanged(e=>{e?t(e.displayName):a.push("/login")});return()=>e()},[a]),e},d=a(9482),m=a(5675),g=a.n(m),p=a(4439),h=a.n(p),f=a(8767);let _=async()=>await c();var y=e=>{let{imgContent:t}=e,{data:a}=(0,f.useQuery)("images",_);return(0,r.jsx)("div",{className:h().imageGrid,children:t.map((e,t)=>(0,r.jsxs)("div",{className:h().imgWrapper,children:[(0,r.jsx)(g(),{width:500,height:350,src:e.url,alt:"Image ".concat(t+1),className:h().img,priority:!0}),(0,r.jsx)("div",{className:h().overlay,children:e.description})]},t))})},j=()=>{let[e,t]=(0,n.useState)([]),[a,i]=(0,n.useState)(!0),o=u();return((0,l.useRouter)(),(0,n.useEffect)(()=>{let e=async()=>{try{let e=await c();t(e)}catch(e){e instanceof Error&&console.error("Error fetching images: ",e.message)}finally{i(!1)}};o&&e()},[o]),o)?(0,r.jsxs)("div",{children:[(0,r.jsx)(s,{nickname:o}),(0,r.jsxs)("main",{children:[(0,r.jsx)("h1",{children:"Choose an Image"}),(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)(d.Z,{}),children:(0,r.jsx)(y,{imgContent:e})})]})]}):null}},2316:function(e,t,a){"use strict";a.d(t,{I:function(){return c},db:function(){return l}});var r=a(3977),n=a(9828),s=a(2370),i=a(6650);let o=(0,r.ZF)({apiKey:"AIzaSyATUXcfqBg3IZYQc9Q0hINGt6oVjNLoZB8",authDomain:"my-mood-playlist.firebaseapp.com",projectId:"my-mood-playlist",storageBucket:"my-mood-playlist.appspot.com",messagingSenderId:"665017246127",appId:"1:665017246127:web:4906d5430fcc98efe74f5a",measurementId:"G-D0L4JFMQSC"}),c=(0,s.v0)(o),l=(0,n.ad)(o);(0,i.cF)(o)},4439:function(e){e.exports={imageGrid:"ImageContent_imageGrid__q_nZj",imgWrapper:"ImageContent_imgWrapper__d2GwA",img:"ImageContent_img__uyF65",overlay:"ImageContent_overlay__a7UQ3"}}},function(e){e.O(0,[16,48,915,675,888,774,179],function(){return e(e.s=6870)}),_N_E=e.O()}]);