(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[541],{1752:function(e,s,t){e.exports=t(1224)},4259:function(e,s,t){"use strict";var o=t(5893);t(7294);var r=t(2175),a=t.n(r);s.Z=e=>{let{onClick:s,text:t}=e;return(0,o.jsx)("button",{onClick:s,className:a().button,children:t})}},335:function(e,s,t){"use strict";var o=t(5893),r=t(7294),a=t(9441),n=t.n(a),l=t(2175),c=t.n(l);s.Z=e=>{let{title:s,buttonText:t,onSubmit:a,showNickname:l=!1}=e,[i,u]=(0,r.useState)(""),[d,m]=(0,r.useState)(""),[h,x]=(0,r.useState)("");return(0,o.jsxs)("div",{className:n().container,children:[(0,o.jsx)("h1",{children:s}),(0,o.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(i,d,h)},className:n().form,children:[(0,o.jsxs)("div",{className:n().inputGroup,children:[(0,o.jsx)("label",{htmlFor:"email",className:n().label,children:"Email:"}),(0,o.jsx)("input",{type:"email",placeholder:"Email",id:"email",value:i,onChange:e=>u(e.target.value),required:!0,className:n().input})]}),(0,o.jsxs)("div",{className:n().inputGroup,children:[(0,o.jsx)("label",{htmlFor:"password",className:n().label,children:"Password:"}),(0,o.jsx)("input",{type:"password",placeholder:"Password",id:"password",value:d,onChange:e=>m(e.target.value),required:!0,className:n().input})]}),l&&(0,o.jsxs)("div",{className:n().inputGroup,children:[(0,o.jsx)("label",{htmlFor:"nickname",className:n().label,children:"Nickname:"}),(0,o.jsx)("input",{type:"text",placeholder:"Nickname",id:"nickname",value:h,onChange:e=>x(e.target.value),required:!0,className:n().input})]}),(0,o.jsx)("button",{type:"submit",className:c().button,children:t})]})]})}},4130:function(e,s,t){"use strict";var o=t(5893);t(7294);var r=t(356),a=t.n(r),n=t(1664),l=t.n(n);s.Z=()=>(0,o.jsx)("footer",{className:a().footer,children:(0,o.jsxs)("div",{className:a().footerContent,children:[(0,o.jsxs)("div",{className:a().footerPrivacy,children:[(0,o.jsxs)("ul",{className:a().footerLinks,children:[(0,o.jsx)("li",{className:a().text,children:(0,o.jsx)(l(),{href:"/terms",children:"Terms of Use"})}),(0,o.jsx)("li",{className:a().text,children:(0,o.jsx)(l(),{href:"/privacy",children:"Privacy Policy"})})]}),(0,o.jsx)("p",{className:a().text,children:(0,o.jsx)(l(),{href:"/contact",children:"Contact Us"})})]}),(0,o.jsx)("p",{className:a().rights,children:"\xa9 2024 YourMusicApp. All rights reserved."})]})})},6369:function(e,s,t){"use strict";var o=t(5893),r=t(7294),a=t(2149),n=t.n(a),l=t(1664),c=t.n(l),i=t(4173),u=t(2247),d=t(1163),m=t(602),h=t(3804),x=t(8506),_=t(2088),p=t(8773);s.Z=e=>{let{nickname:s,page:t}=e,[a,l]=(0,r.useState)(!1),f=(0,d.useRouter)();(0,r.useEffect)(()=>{a?document.body.style.overflow="hidden":document.body.style.overflow="auto"},[a]);let j=async()=>{try{(await (0,u.hY)()).success?(i.Am.warning("You logged out"),f.push("/")):i.Am.error("Logout failed")}catch(e){i.Am.error("An error occurred during logout")}console.log("User logged out")};return(0,o.jsx)("header",{className:n().header,children:(0,o.jsxs)("div",{className:n().container,children:[(0,o.jsx)(m.Z,{isOpen:a,onClose:()=>{l(!1)},onConfirm:()=>{l(!1),j()}}),s?(0,o.jsxs)("div",{className:n().content,children:[(0,o.jsxs)("div",{className:n().nav,children:[t&&(0,o.jsx)(c(),{href:"/images",className:n().link,passHref:!0,children:(0,o.jsxs)("div",{className:n().tooltip,children:[(0,o.jsx)(_.zD9,{}),(0,o.jsx)("span",{className:n().tooltiptext,children:"back to mood list"})]})}),(0,o.jsx)(c(),{href:"/",className:n().link,passHref:!0,children:(0,o.jsxs)("div",{className:n().tooltip,children:[(0,o.jsx)(h.OUs,{}),(0,o.jsx)("span",{className:n().tooltiptext,children:"go Home page"})]})}),(0,o.jsx)("p",{onClick:()=>{l(!0)},className:n().link,children:(0,o.jsxs)("div",{className:n().tooltip,children:[(0,o.jsx)(x.VUx,{}),(0,o.jsx)("span",{className:n().tooltiptext,children:"Log Out"})]})})]}),(0,o.jsxs)("p",{className:n().welcome,children:["How are you, \xa0",(0,o.jsx)(c(),{href:"/cabinet",className:n().nickname,passHref:!0,children:(0,o.jsxs)("div",{className:n().tooltip,children:["\xa0",s,"\xa0\xa0",(0,o.jsx)(p.q1E,{}),(0,o.jsx)("span",{className:n().tooltipText,children:"to personal account"})]})}),"\xa0?"]})]}):(0,o.jsxs)("div",{className:n().notLogin,children:[(0,o.jsx)(c(),{href:"/",className:n().link,passHref:!0,children:(0,o.jsxs)("div",{className:n().tooltip,children:[(0,o.jsx)(h.OUs,{}),(0,o.jsx)("span",{className:n().tooltiptext,children:"go Home page"})]})}),(0,o.jsx)("p",{children:"Not logged in"})]})]})})}},602:function(e,s,t){"use strict";var o=t(5893),r=t(7294),a=t(8461),n=t.n(a);s.Z=e=>{let{isOpen:s,onClose:t,onConfirm:a}=e;return((0,r.useEffect)(()=>(s?(document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden"):(document.documentElement.style.overflow="",document.body.style.overflow=""),()=>{document.documentElement.style.overflow="",document.body.style.overflow=""}),[s]),s)?(0,o.jsx)("div",{className:n().overlay,onClick:e=>{e.target===e.currentTarget&&t()},children:(0,o.jsxs)("div",{className:n().modal,children:[(0,o.jsx)("span",{onClick:t,className:n().close,children:"x"}),(0,o.jsx)("p",{children:"Are you sure?"}),(0,o.jsxs)("div",{className:n().buttons,children:[(0,o.jsx)("button",{onClick:a,className:n().button,children:"Yes"}),(0,o.jsx)("button",{onClick:t,className:n().button,children:"No"})]})]})}):null}},9511:function(e,s,t){"use strict";var o=t(5893),r=t(7294),a=t(1163),n=t(2018);s.Z=e=>s=>{let t=(0,a.useRouter)();return(0,r.useEffect)(()=>{let e=n.I.onAuthStateChanged(e=>{e&&t.push("/")});return()=>e()},[t]),(0,o.jsx)(e,{...s})}},7541:function(e,s,t){"use strict";t.r(s);var o=t(5893),r=t(7294),a=t(3299),n=t(2018),l=t(6545),c=t.n(l),i=t(1752),u=t.n(i),d=t(1163),m=t(9482),h=t(4173),x=t(9511),_=t(335),p=t(4259),f=t(1664),j=t.n(f),g=t(6369),v=t(4130);let{publicRuntimeConfig:N}=u()();N.basePath,s.default=(0,x.Z)(()=>{let[e,s]=(0,r.useState)(""),[t,l]=(0,r.useState)(!1),[i,u]=(0,r.useState)(""),x=(0,d.useRouter)();(0,r.useEffect)(()=>{let e=n.I.onAuthStateChanged(e=>{e&&x.push("/")});return()=>e()},[x]);let f=async()=>{l(!0);let e=new a.hJ;try{let s=await (0,a.rh)(n.I,e);console.log(s.user)}catch(e){console.error("Google login error:",e.message),s(e.message)}finally{l(!1)}},N=async()=>{l(!0);let e=new a._O;try{let s=await (0,a.rh)(n.I,e);console.log(s.user)}catch(e){console.error("Facebook login error:",e.message),s(e.message)}finally{l(!1)}},y=async(e,t,o)=>{l(!0);try{let s=(await (0,a.Xb)(n.I,e,t)).user;console.log("User before updateProfile:",s),s&&(await (0,a.ck)(s,{displayName:o}),console.log("Profile updated:",s.displayName)),h.Am.success("User registered successfully"),x.push("/images")}catch(e){s(e.message),h.Am.error("Registration failed: ".concat(e.message))}finally{l(!1)}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.Z,{nickname:"",page:""}),(0,o.jsxs)("div",{className:c().container,children:[(0,o.jsx)("div",{className:c().overlay}),(0,o.jsx)("h2",{className:c().please,children:"Please register to access all features"}),(0,o.jsxs)("div",{className:c().form,children:[t&&(0,o.jsx)(m.Z,{}),(0,o.jsx)(_.Z,{title:"",buttonText:"Register",onSubmit:y,showNickname:!0}),(0,o.jsxs)("p",{children:["Already have an account? Then ",(0,o.jsx)(j(),{href:"/login",className:c().link,passHref:!0,children:"Log in"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(p.Z,{onClick:f,text:"Log in with Google"}),(0,o.jsx)(p.Z,{onClick:N,text:"Log in with Facebook"})]})]})]}),(0,o.jsx)(v.Z,{})]})})},2247:function(e,s,t){"use strict";t.d(s,{Cb:function(){return n},eu:function(){return l},hY:function(){return a},jc:function(){return c}});var o=t(2018),r=t(3299);let a=async()=>{try{return await (0,r.w7)(o.I),{success:!0}}catch(e){return console.error("Error signing out: ",e),{success:!1,error:e}}},n=async()=>{let e=new r.hJ;try{return await (0,r.rh)(o.I,e)}catch(e){throw console.error("Google login error:",e.message),e}},l=async()=>{let e=new r._O;try{return await (0,r.rh)(o.I,e)}catch(e){throw console.error("Facebook login error:",e.message),e}},c=async(e,s)=>{try{await (0,r.e5)(o.I,e,s)}catch(e){throw console.error("Email login error:",e.message),e}}},9441:function(e){e.exports={form:"AuthForm_form__vlyAP",label:"AuthForm_label__601oW",input:"AuthForm_input__IJd0x"}},2175:function(e){e.exports={button:"Button_button__rH6MK"}},356:function(e){e.exports={footer:"Footer_footer__OYoYH",footerContent:"Footer_footerContent__QQ0Yh",footerPrivacy:"Footer_footerPrivacy__wdtSE",footerLinks:"Footer_footerLinks__zeWoW",text:"Footer_text__zmW1j",rights:"Footer_rights__fQz9c"}},2149:function(e){e.exports={header:"Header_header__MwWvM",container:"Header_container__Aasa1",welcome:"Header_welcome__qwo_o",content:"Header_content__ENXbo",nav:"Header_nav____I21",link:"Header_link__suN3m",tooltip:"Header_tooltip__cGlTs",tooltiptext:"Header_tooltiptext__Fkh_A",tooltipText:"Header_tooltipText__p5UUj",nickname:"Header_nickname__eVO0V",notLogin:"Header_notLogin__UARzv"}},8461:function(e){e.exports={overlay:"Modal_overlay__nbJY5",modal:"Modal_modal__l4yBn",buttons:"Modal_buttons__0MBpx",button:"Modal_button__uXEDR",close:"Modal_close__AOA14"}},6545:function(e){e.exports={container:"Register_container__mrUdE",overlay:"Register_overlay__gXEF3",form:"Register_form__0P4Vf",link:"Register_link__AE70Z",please:"Register_please__1etrP"}}}]);